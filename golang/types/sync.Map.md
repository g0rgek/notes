## [map](map.md) & [rwmutex](rwmutex.md) VS sync.Map 
sync.Map выигрывает по перфу мапу с мьютексом только когда у процессора >=64 ядра.

Внутри используются 2 [map](map.md):
- Read map
	- Построена на атомиках [atomic#Atomic pointer](4.2%20atomic.md#Atomic%20pointer.md)
	- Можно только модифицировать данные
	- Удаляемые данные становятся [nil](nil.md)
- Dirty map with Mutex

sync.Map оптимизирована для двух случаев: 
1. когда запись для данного ключа записывается только один раз, но читается много раз, как в кэшах, которые только растут.
2. когда несколько горутин читают, записывают и перезаписывают записи для несовпадающих наборов ключей.